// Backbone-Articulation.js 0.1.1
// (c) 2011 Kevin Malakoff.
// Backbone-Articulation may be freely distributed under the MIT license.

// Requires Backbone.js with Backbone.Model implementation of
Backbone||alert("Missing Backbone.js");Backbone.HAS_ATTRIBUTE_OWNERSHIP||alert("Please upgrade Backbone to a version with attribute ownership");_||alert("Missing Underscore.js");_.AWESOMENESS||alert("Missing Underscore-Awesomer.js");_.AWESOMENESS!=="1.0.1"&&alert("Underscore-Awesomer.js needs to be at version 1.0.1 or higher");this.Backbone.Articulation||(Backbone.Articulation={});Backbone.Articulation="0.1.1";
Backbone.Collection.prototype.toJSON=function(){for(var b=[],a=0,c=this.models.length;a<c;a++)b.push(this.models[a].toJSON());return b};Backbone.Collection.prototype.parse=function(b){if(!b||!_.isArray(b))return b;for(var a=[],c,d=0,e=b.length;d<e;d++)c=b[d],c.hasOwnProperty(_.PARSE_JSON_TYPE_FIELD)&&(c=_.clone(c),delete c[_.PARSE_JSON_TYPE_FIELD]),a.push(_.parseJSON(c,{properties:!0}));return a};
Backbone.Model.prototype.toJSON=function(){var b=_.toJSON(this.attributes,{properties:!0});b.hasOwnProperty(_.PARSE_JSON_TYPE_FIELD)||(this.hasOwnProperty(_.PARSE_JSON_TYPE_FIELD)?b[_.PARSE_JSON_TYPE_FIELD]=this[_.PARSE_JSON_TYPE_FIELD]:String.prototype.underscore&&(b[_.PARSE_JSON_TYPE_FIELD]=_.classOf(this).underscore().singularize()));return b};Backbone.Model.prototype.parse=function(b){return!b?b:_.parseJSON(b,{properties:!0,skip_type:!0})};
Backbone.Model.prototype._ownAttribute=function(b,a){if(a)return a instanceof Backbone.Model||a instanceof Backbone.Collection?a:_.isArray(a)&&a.length&&(a[0]instanceof Backbone.Model||a[0]instanceof Backbone.Collection)?a:_.own(a)};Backbone.Model.prototype._disownAttribute=function(b,a){if(a)return a instanceof Backbone.Model||a instanceof Backbone.Collection?a:_.isArray(a)&&a.length&&(a[0]instanceof Backbone.Model||a[0]instanceof Backbone.Collection)?a:_.disown(a)};
